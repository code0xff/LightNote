import{F as h}from"./scheduler.MbFxzRFO.js";import{d as w,w as f}from"./index.4CETfav2.js";const L=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;let u,m;function p(t){if(typeof document>"u")return;clearTimeout(u),clearTimeout(m);const e=document.createElement("style"),i=document.createTextNode(`* {
     -webkit-transition: none !important;
     -moz-transition: none !important;
     -o-transition: none !important;
     -ms-transition: none !important;
     transition: none !important;
  }`);e.appendChild(i);const o=()=>document.head.appendChild(e),n=()=>document.head.removeChild(e);if(typeof window.getComputedStyle<"u"){o(),t(),window.getComputedStyle(e).opacity,n();return}if(typeof window.requestAnimationFrame<"u"){o(),t(),window.requestAnimationFrame(n);return}o(),u=window.setTimeout(()=>{t(),m=window.setTimeout(n,120)},120)}const y={getItem:t=>null,setItem:(t,e)=>{}},a=typeof document<"u",c="mode",l=k(),b=M(),v=S();function k(){const t="system",e=a?localStorage:y;let i=e.getItem(c)||t;const{subscribe:o,set:n}=f(i,()=>{if(a){const s=r=>{r.key===c&&n(i=r.newValue||t)};return addEventListener("storage",s),()=>removeEventListener("storage",s)}});function d(s){n(i=s),e.setItem(c,i)}return{subscribe:o,set:d}}function M(){let e=!0;const{subscribe:i,set:o}=f(void 0,()=>{if(a){const s=g=>{e&&o(g.matches?"light":"dark")},r=window.matchMedia("(prefers-color-scheme: light)");return r.addEventListener("change",s),()=>r.removeEventListener("change",s)}});function n(){if(a){const s=window.matchMedia("(prefers-color-scheme: light)");o(s.matches?"light":"dark")}}function d(s){e=s}return{subscribe:i,query:n,tracking:d}}function S(){const{subscribe:t}=w([l,b],([e,i])=>{if(!a)return;const o=e==="system"?i:e;return p(()=>{const n=document.documentElement;o==="light"?(n.classList.remove("dark"),n.style.colorScheme="light"):(n.classList.add("dark"),n.style.colorScheme="dark")}),o});return{subscribe:t}}function _(){l.set(h(v)==="dark"?"light":"dark")}function C(t){l.set(t)}export{C as a,v as d,L as g,c as l,b as s,_ as t};

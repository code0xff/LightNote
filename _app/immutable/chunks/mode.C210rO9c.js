import{g}from"./scheduler.ofL0hCKM.js";import{d as p,w as f}from"./index.Yi_p0pkG.js";let l,m;function w(t){if(typeof document>"u")return;clearTimeout(l),clearTimeout(m);const e=document.createElement("style"),s=document.createTextNode(`* {
     -webkit-transition: none !important;
     -moz-transition: none !important;
     -o-transition: none !important;
     -ms-transition: none !important;
     transition: none !important;
  }`);e.appendChild(s);const o=()=>document.head.appendChild(e),n=()=>document.head.removeChild(e);if(typeof window.getComputedStyle<"u"){o(),t(),window.getComputedStyle(e).opacity,n();return}if(typeof window.requestAnimationFrame<"u"){o(),t(),window.requestAnimationFrame(n);return}o(),l=window.setTimeout(()=>{t(),m=window.setTimeout(n,120)},120)}const y={getItem:t=>null,setItem:(t,e)=>{}},a=typeof document<"u",c="mode",u=b(),v=M(),k=S();function b(){const t="system",e=a?localStorage:y;let s=e.getItem(c)||t;const{subscribe:o,set:n}=f(s,()=>{if(a){const r=i=>{i.key===c&&n(s=i.newValue||t)};return addEventListener("storage",r),()=>removeEventListener("storage",r)}});function d(r){n(s=r),e.setItem(c,s)}return{subscribe:o,set:d}}function M(){let e=!0;const{subscribe:s,set:o}=f(void 0,()=>{if(a){const r=h=>{e&&o(h.matches?"light":"dark")},i=window.matchMedia("(prefers-color-scheme: light)");return i.addEventListener("change",r),()=>i.removeEventListener("change",r)}});function n(){if(a){const r=window.matchMedia("(prefers-color-scheme: light)");o(r.matches?"light":"dark")}}function d(r){e=r}return{subscribe:s,query:n,tracking:d}}function S(){const{subscribe:t}=p([u,v],([e,s])=>{if(!a)return;const o=e==="system"?s:e;return w(()=>{const n=document.documentElement;o==="light"?(n.classList.remove("dark"),n.style.colorScheme="light"):(n.classList.add("dark"),n.style.colorScheme="dark")}),o});return{subscribe:t}}function T(){u.set(g(k)==="dark"?"light":"dark")}function _(t){u.set(t)}export{_ as a,k as d,c as l,v as s,T as t};
